<!DOCTYPE html>


  <html class="dark page-post">


<head>
  <meta charset="utf-8">
  <meta name="referrer" content="no-referrer" />
  
  <title>IOCå®¹å™¨è®¾è®¡ç†å¿µä¸æºç è§£è¯» | MurasakiSeiFu</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="java,redis,nginx,zookeeper,åˆ†å¸ƒå¼ä¸­é—´ä»¶,å¾®æœåŠ¡,springboot,mysql" />
  

  <meta name="description" content="Spring Framework å¼€å‘å‚è€ƒæ‰‹å†Œ.chm è¯¾ç¨‹æ¦‚è¦ï¼š  IOCæ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾ IOC è®¾è®¡åŸç†  ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾ çŸ¥è¯†ç‚¹ï¼š Iocç†å¿µæ¦‚è¦ å®ä½“Beançš„åˆ›å»º Beançš„åŸºæœ¬ç‰¹æ€§ ä¾èµ–æ³¨å…¥  setæ–¹æ³•æ³¨å…¥ æ„é€ æ–¹æ³•æ³¨å…¥ è‡ªåŠ¨æ³¨å…¥(byNameã€byTypeï¼‰ ä¾èµ–æ£€æµ‹1ã€Iocç†è®ºæ¦‚è¦åœ¨JAVAçš„ä¸–ç•Œä¸­ï¼Œä¸€ä¸ªå¯¹è±¡Aæ€ä¹ˆæ‰èƒ½è°ƒç”¨å¯¹è±¡Bï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚      ç±»åˆ«">
<meta property="og:type" content="article">
<meta property="og:title" content="IOCå®¹å™¨è®¾è®¡ç†å¿µä¸æºç è§£è¯»">
<meta property="og:url" content="http://ilovenorth.life/2018/08/27/IOCå®¹å™¨è®¾è®¡ç†å¿µä¸æºç è§£è¯»/index.html">
<meta property="og:site_name" content="MurasakiSeiFu">
<meta property="og:description" content="Spring Framework å¼€å‘å‚è€ƒæ‰‹å†Œ.chm è¯¾ç¨‹æ¦‚è¦ï¼š  IOCæ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾ IOC è®¾è®¡åŸç†  ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾ çŸ¥è¯†ç‚¹ï¼š Iocç†å¿µæ¦‚è¦ å®ä½“Beançš„åˆ›å»º Beançš„åŸºæœ¬ç‰¹æ€§ ä¾èµ–æ³¨å…¥  setæ–¹æ³•æ³¨å…¥ æ„é€ æ–¹æ³•æ³¨å…¥ è‡ªåŠ¨æ³¨å…¥(byNameã€byTypeï¼‰ ä¾èµ–æ£€æµ‹1ã€Iocç†è®ºæ¦‚è¦åœ¨JAVAçš„ä¸–ç•Œä¸­ï¼Œä¸€ä¸ªå¯¹è±¡Aæ€ä¹ˆæ‰èƒ½è°ƒç”¨å¯¹è±¡Bï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚      ç±»åˆ«">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/006tNbRwly1fuo8uy1q29j30r9084glq.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNbRwly1fuo8w0fohnj30ex08h74q.jpg">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/006tNbRwly1fuo90i9jbpj30dd054jra.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNbRwly1fuo91jbelmj30ej0clglv.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNbRwly1fuo92y28t9j30k109zt9b.jpg">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tNbRwly1fuo94l1j2pj30da079q30.jpg">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/006tNbRwly1fuo95fjpbdj30d60al0sy.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNbRwly1fuo96eb3k4j30z90foq3x.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNbRwly1fuo9701kg8j315407qwem.jpg">
<meta property="og:updated_time" content="2019-04-29T01:56:12.764Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IOCå®¹å™¨è®¾è®¡ç†å¿µä¸æºç è§£è¯»">
<meta name="twitter:description" content="Spring Framework å¼€å‘å‚è€ƒæ‰‹å†Œ.chm è¯¾ç¨‹æ¦‚è¦ï¼š  IOCæ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾ IOC è®¾è®¡åŸç†  ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾ çŸ¥è¯†ç‚¹ï¼š Iocç†å¿µæ¦‚è¦ å®ä½“Beançš„åˆ›å»º Beançš„åŸºæœ¬ç‰¹æ€§ ä¾èµ–æ³¨å…¥  setæ–¹æ³•æ³¨å…¥ æ„é€ æ–¹æ³•æ³¨å…¥ è‡ªåŠ¨æ³¨å…¥(byNameã€byTypeï¼‰ ä¾èµ–æ£€æµ‹1ã€Iocç†è®ºæ¦‚è¦åœ¨JAVAçš„ä¸–ç•Œä¸­ï¼Œä¸€ä¸ªå¯¹è±¡Aæ€ä¹ˆæ‰èƒ½è°ƒç”¨å¯¹è±¡Bï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚      ç±»åˆ«">
<meta name="twitter:image" content="https://ws1.sinaimg.cn/large/006tNbRwly1fuo8uy1q29j30r9084glq.jpg">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-86660611-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?2e6da3c375c8a87f5b664cea6d4cb29c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">ğŸ†</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">ğŸ†</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            åšå®¢
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/categories/"
            rel="noopener noreferrer"
            target="_self"
            >
            åˆ†ç±»
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            æ ‡ç­¾
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            å‹é“¾
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            å…³äº
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            æœç´¢
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">Posts List</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾"><span class="toc-text">ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#çŸ¥è¯†ç‚¹ï¼š"><span class="toc-text">çŸ¥è¯†ç‚¹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1ã€Iocç†è®ºæ¦‚è¦"><span class="toc-text">1ã€Iocç†è®ºæ¦‚è¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ã€å®ä½“Beançš„æ„å»º"><span class="toc-text">2ã€å®ä½“Beançš„æ„å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ã€beançš„åŸºæœ¬ç‰¹æ€§"><span class="toc-text">3ã€beançš„åŸºæœ¬ç‰¹æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4ã€ä¾èµ–æ³¨å…¥"><span class="toc-text">4ã€ä¾èµ–æ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#äºŒã€IOC-è®¾è®¡åŸç†ä¸å®ç°"><span class="toc-text">äºŒã€IOC è®¾è®¡åŸç†ä¸å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#çŸ¥è¯†ç‚¹ï¼š-1"><span class="toc-text">çŸ¥è¯†ç‚¹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1ã€æºç å­¦ä¹ ç›®æ ‡ï¼š"><span class="toc-text">1ã€æºç å­¦ä¹ ç›®æ ‡ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ã€Beançš„æ„å»ºè¿‡ç¨‹"><span class="toc-text">2ã€Beançš„æ„å»ºè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ã€BeanFactory-ä¸-ApplicationContextåŒºåˆ«"><span class="toc-text">3ã€BeanFactory ä¸ ApplicationContextåŒºåˆ«</span></a></li></ol></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-IOCå®¹å™¨è®¾è®¡ç†å¿µä¸æºç è§£è¯»" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">IOCå®¹å™¨è®¾è®¡ç†å¿µä¸æºç è§£è¯»</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2018.08.27</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>MurasakiSeiFu.</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/æºç åˆ†æ/">æºç åˆ†æ</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbspçƒ­åº¦ <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>â„ƒ
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <meta name="referrer" content="no-referrer">

<p><a href="https://attachments-cdn.shimo.im/4F3pLR0Mkwgyopi5/Spring_Framework_å¼€å‘å‚è€ƒæ‰‹å†Œ.chm" target="_blank" rel="noopener">Spring Framework å¼€å‘å‚è€ƒæ‰‹å†Œ.chm</a></p>
<p>è¯¾ç¨‹æ¦‚è¦ï¼š</p>
<ol>
<li>IOCæ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾</li>
<li>IOC è®¾è®¡åŸç†</li>
</ol>
<h2 id="ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾"><a href="#ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾" class="headerlink" title="ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾"></a>ä¸€ã€IOCæ ¸å¿ƒç†è®ºå›é¡¾</h2><hr>
<h3 id="çŸ¥è¯†ç‚¹ï¼š"><a href="#çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h3><ol>
<li>Iocç†å¿µæ¦‚è¦</li>
<li>å®ä½“Beançš„åˆ›å»º</li>
<li>Beançš„åŸºæœ¬ç‰¹æ€§</li>
<li><p>ä¾èµ–æ³¨å…¥</p>
<ol>
<li>setæ–¹æ³•æ³¨å…¥</li>
<li>æ„é€ æ–¹æ³•æ³¨å…¥</li>
<li>è‡ªåŠ¨æ³¨å…¥(byNameã€byTypeï¼‰</li>
<li>ä¾èµ–æ£€æµ‹<h3 id="1ã€Iocç†è®ºæ¦‚è¦"><a href="#1ã€Iocç†è®ºæ¦‚è¦" class="headerlink" title="1ã€Iocç†è®ºæ¦‚è¦"></a>1ã€Iocç†è®ºæ¦‚è¦</h3>åœ¨JAVAçš„ä¸–ç•Œä¸­ï¼Œä¸€ä¸ªå¯¹è±¡Aæ€ä¹ˆæ‰èƒ½è°ƒç”¨å¯¹è±¡Bï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚    </li>
</ol>
<p>ç±»åˆ« | æè¿° | æ—¶é—´ç‚¹<br>:â€”: | :â€”: | :â€”:<br>å¤–éƒ¨ä¼ å…¥|æ„é€ æ–¹æ³•ä¼ å…¥|<br>| |å±æ€§è®¾ç½®ä¼ å…¥|è®¾ç½®å¯¹è±¡çŠ¶æ€æ—¶<br>| |è¿è¡Œæ—¶åšä¸ºå‚æ•°ä¼ å…¥|è°ƒç”¨æ—¶<br>å†…éƒ¨åˆ›å»º|å±æ€§ä¸­ç›´æ¥åˆ›å»º|åˆ›å»ºå¼•ç”¨å¯¹è±¡æ—¶<br>| |åˆå§‹åŒ–æ–¹æ³•åˆ›å»º|åˆ›å»ºå¼•ç”¨å¯¹è±¡æ—¶<br>| |è¿è¡Œæ—¶åŠ¨æ€åˆ›å»º|è°ƒç”¨æ—¶</p>
</li>
</ol>
<p>ä¸Šè¡¨å¯ä»¥çœ‹åˆ°ï¼Œ å¼•ç”¨ä¸€ä¸ªå¯¹è±¡å¯ä»¥åœ¨ä¸åŒåœ°ç‚¹ï¼ˆå…¶å®ƒå¼•ç”¨è€…ï¼‰ã€ä¸åŒæ—¶é—´ç”±ä¸åŒçš„æ–¹æ³•å®Œæˆã€‚å¦‚æœBåªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å¯¹è±¡  å¦‚ç›´æ¥new B()ï¼Œæ€æ ·éƒ½ä¸ä¼šè§‰å¾—å¤æ‚ï¼Œæ¯”å¦‚ä½ ä»æ¥ä¸ä¼šè§‰å¾—åˆ›å»ºä¸€ä¸ªString æ˜¯ä¸€ä¸ªä»¶å¤æ‚çš„äº‹æƒ…ã€‚ä½†å¦‚æœB æ˜¯ä¸€ä¸ªæœ‰ç€å¤æ‚ä¾èµ–çš„Serviceå¯¹è±¡ï¼Œè¿™æ—¶åœ¨ä¸åŒæ—¶æœºå¼•ç”¨Bå°†ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwly1fuo8uy1q29j30r9084glq.jpg" alt=""><br>æ— æ—¶æ— åˆ»éƒ½è¦ç»´æŠ¤Bçš„å¤æ‚ä¾èµ–å…³ç³»ï¼Œè¯•æƒ³Bå¯¹è±¡å¦‚æœé¡¹ç›®ä¸­æœ‰ä¸Šç™¾è¿‡ï¼Œç³»ç»Ÿå¤æ‚åº¦å°†ä¼šæˆé™ªæ•°å¢åŠ ã€‚<br>IOCå®¹å™¨ çš„å‡ºç°æ­£æ˜¯ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œå…¶å¯ä»¥å°†å¯¹è±¡çš„æ„å»ºæ–¹å¼ç»Ÿä¸€ï¼Œå¹¶ä¸”è‡ªåŠ¨ç»´æŠ¤å¯¹è±¡çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œé™ä½ç³»ç»Ÿçš„å®ç°æˆæœ¬ã€‚å‰ææ˜¯éœ€è¦æå‰å¯¹ç›®æ ‡å¯¹è±¡åŸºäºXMLè¿›è¡Œå£°æ˜ã€‚</p>
<h3 id="2ã€å®ä½“Beançš„æ„å»º"><a href="#2ã€å®ä½“Beançš„æ„å»º" class="headerlink" title="2ã€å®ä½“Beançš„æ„å»º"></a>2ã€å®ä½“Beançš„æ„å»º</h3><ol>
<li>åŸºäºClassæ„å»º</li>
<li>æ„é€ æ–¹æ³•æ„å»º</li>
<li>é™æ€å·¥å‚æ–¹æ³•åˆ›å»º</li>
<li>FactoryBeanåˆ›å»º</li>
</ol>
<p>1ã€åŸºäºClassNameæ„å»º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ˜¯æœ€å¸¸è§„çš„æ–¹æ³•ï¼Œå…¶åŸç†æ˜¯åœ¨springåº•å±‚ä¼šåŸºäºclass å±æ€§ é€šè¿‡åå°„è¿›è¡Œæ„å»ºã€‚</p>
<p>2ã€æ„é€ æ–¹æ³•æ„å»º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot;&gt;</span><br><span class="line">    &lt;constructor-arg name=&quot;name&quot; type=&quot;java.lang.String&quot; value=&quot;luban&quot;/&gt;</span><br><span class="line">    &lt;constructor-arg index=&quot;1&quot; type=&quot;java.lang.String&quot; value=&quot;sex&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p> å¦‚æœéœ€è¦åŸºäºå‚æ•°è¿›è¡Œæ„å»ºï¼Œå°±é‡‡ç”¨æ„é€ æ–¹æ³•æ„å»ºï¼Œå…¶å¯¹åº”å±æ€§å¦‚ä¸‹ï¼š<br><strong>name:</strong>æ„é€ æ–¹æ³•å‚æ•°å˜é‡åç§°<br><strong>type:</strong>å‚æ•°ç±»å‹<br><strong>index:</strong>å‚æ•°ç´¢å¼•ï¼Œä»0å¼€å§‹<br><strong>value:</strong>å‚æ•°å€¼ï¼Œspring ä¼šè‡ªåŠ¨è½¬æ¢æˆå‚æ•°å®é™…ç±»å‹å€¼<br><strong>ref:</strong>å¼•ç”¨å®¹ä¸²çš„å…¶å®ƒå¯¹è±¡</p>
<p>3ã€é™æ€å·¥å‚æ–¹æ³•åˆ›å»º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot; factory-method=&quot;build&quot;&gt;</span><br><span class="line">    &lt;constructor-arg name=&quot;type&quot; type=&quot;java.lang.String&quot; value=&quot;B&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœä½ æ­£åœ¨å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡ŒA/Bæµ‹è¯• ï¼Œå°±å¯ä»¥é‡‡ç”¨é™æ€å·¥å‚æ–¹æ³•çš„æ–¹å¼åˆ›å»ºï¼Œå…¶äºç­–ç•¥åˆ›å»ºä¸åŒçš„å¯¹åƒæˆ–å¡«å……ä¸åŒçš„å±æ€§ã€‚<br>è¯¥æ¨¡å¼ä¸‹å¿…é¡»åˆ›å»ºä¸€ä¸ªé™æ€å·¥å‚æ–¹æ³•ï¼Œå¹¶ä¸”æ–¹æ³•è¿”å›è¯¥å®ä¾‹ï¼Œspring ä¼šè°ƒç”¨è¯¥é™æ€æ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static HelloSpring build(String type) &#123;</span><br><span class="line">    if (type.equals(&quot;A&quot;)) &#123;</span><br><span class="line">        return new HelloSpring(&quot;luban&quot;, &quot;man&quot;);</span><br><span class="line">    &#125; else if (type.equals(&quot;B&quot;)) &#123;</span><br><span class="line">        return new HelloSpring(&quot;diaocan&quot;, &quot;woman&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;type must A or B&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>4ã€FactoryBeanåˆ›å»º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.LubanFactoryBean&quot; id=&quot;helloSpring123&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>æŒ‡å®šä¸€ä¸ªBeanå·¥å‚æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¯¹è±¡æ„å»ºåˆå§‹åŒ– å®Œå…¨äº¤ç»™è¯¥å·¥å‚æ¥å®ç°ã€‚é…ç½®Beanæ—¶æŒ‡å®šè¯¥å·¥å‚ç±»çš„ç±»åã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class LubanFactoryBean implements FactoryBean &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public Object getObject() throws Exception &#123;</span><br><span class="line">        return new HelloSpring();</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        return HelloSpring.class;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public boolean isSingleton() &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3ã€beançš„åŸºæœ¬ç‰¹æ€§"><a href="#3ã€beançš„åŸºæœ¬ç‰¹æ€§" class="headerlink" title="3ã€beançš„åŸºæœ¬ç‰¹æ€§"></a><strong>3ã€beançš„åŸºæœ¬ç‰¹æ€§</strong></h3><ul>
<li>ä½œç”¨èŒƒå›´</li>
<li>ç”Ÿå‘½å‘¨æœŸ</li>
<li>è£…è½½æœºåˆ¶</li>
</ul>
<p>aã€ä½œç”¨èŒƒå›´<br>å¾ˆå¤šæ—¶å€™Beanå¯¹è±¡æ˜¯æ— çŠ¶æ€çš„ ï¼Œè€Œæœ‰äº›åˆæ˜¯æœ‰çŠ¶æ€çš„ æ— çŠ¶æ€çš„å¯¹è±¡æˆ‘ä»¬é‡‡ç”¨å•ä¾‹å³å¯ï¼Œè€Œæœ‰çŠ¶æ€åˆ™å¿…é¡»æ˜¯å¤šä¾‹çš„æ¨¡å¼ï¼Œé€šè¿‡scope å³å¯åˆ›å»º<br>scope=â€œprototypeâ€<br>scope=â€œsingletonâ€<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scope=â€œprototype</span><br><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot; scope=&quot;prototype&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœä¸€ä¸ªBeanè®¾ç½®æˆ prototype æˆ‘ä»¬å¯ä»¥ é€šè¿‡BeanFactoryAware è·å– BeanFactory å¯¹è±¡å³å¯æ¯æ¬¡è·å–çš„éƒ½æ˜¯æ–°å¯¹åƒã€‚</p>
<p>bã€ç”Ÿå‘½å‘¨æœŸ<br>Beanå¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ã€é”€æ¯å³æ˜¯Beançš„ç”Ÿå‘½å‘¨æœŸã€‚é€šè¿‡ init-methodã€destroy-method å±æ€§å¯ä»¥åˆ†åˆ«æŒ‡å®šæœŸæ„å»ºæ–¹æ³•ä¸åˆå§‹æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœè§‰å¾—éº»çƒ¦ï¼Œå¯ä»¥è®©Beanå»å®ç° InitializingBean.afterPropertiesSet()ã€DisposableBean.destroy()æ–¹æ³•ã€‚åˆ†åˆ«å¯¹åº” åˆå§‹å’Œé”€æ¯æ–¹æ³•</p>
<p>cã€åŠ è½½æœºåˆ¶<br>æŒ‡ç¤ºBeanåœ¨ä½•æ—¶è¿›è¡ŒåŠ è½½ã€‚è®¾ç½®lazy-init å³å¯ï¼Œå…¶å€¼å¦‚ä¸‹ï¼š<br>true: æ‡’åŠ è½½ï¼Œå³å»¶è¿ŸåŠ è½½<br>false:éæ‡’åŠ è½½ï¼Œå®¹å™¨å¯åŠ¨æ—¶å³åˆ›å»ºå¯¹è±¡<br>default:é»˜è®¤ï¼Œé‡‡ç”¨default-lazy-init ä¸­æŒ‡å®šå€¼ï¼Œå¦‚æœdefault-lazy-init  æ²¡æŒ‡å®šå°±æ˜¯false<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><br><span class="line">default-lazy-init=&quot;true&quot;&gt;</span><br></pre></td></tr></table></figure></p>
<p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ‡’åŠ è½½ï¼Ÿ<br>æ‡’åŠ è½½ä¼šå®¹å™¨å¯åŠ¨çš„æ›´å¿«ï¼Œè€Œéæ‡’åŠ è½½å¯ä»¥å®¹å™¨å¯åŠ¨æ—¶æ›´å¿«çš„å‘ç°ç¨‹åºå½“ä¸­çš„é”™è¯¯ ï¼Œé€‰æ‹©å“ªä¸€ä¸ªå°±çœ‹è¿½æ±‚çš„æ˜¯å¯åŠ¨é€Ÿåº¦ï¼Œè¿˜æ˜¯å¸Œæœ›æ›´æ—©çš„å‘ç°é”™è¯¯ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šé€‰ æ‹©åè€…ã€‚</p>
<h3 id="4ã€ä¾èµ–æ³¨å…¥"><a href="#4ã€ä¾èµ–æ³¨å…¥" class="headerlink" title="4ã€ä¾èµ–æ³¨å…¥"></a>4ã€ä¾èµ–æ³¨å…¥</h3><p>è¯•æƒ³IOCä¸­å¦‚æœæ²¡æœ‰ä¾èµ–æ³¨å…¥ï¼Œé‚£è¿™ä¸ªæ¡†æ¶å°±åªèƒ½å¸®åŠ©æˆ‘ä»¬æ„å»ºä¸€äº›ç®€å•çš„Beanï¼Œè€Œä¹‹å‰æ‰€è¯´çš„å¤æ‚Beançš„æ„å»ºé—®é¢˜å°†æ— æ³•è§£å†³ï¼Œspringè¿™ä¸ªæ¡†æ¶ä¸å¯èƒ½ä¼šåƒç°åœ¨è¿™æ ·æˆåŠŸã€‚ spring ä¸­ ioc å¦‚ä½•ä¾èµ–æ³¨å…¥å‘¢ã€‚æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p>
<ol>
<li>setæ–¹æ³•æ³¨å…¥</li>
<li>æ„é€ æ–¹æ³•æ³¨å…¥</li>
<li>è‡ªåŠ¨æ³¨å…¥(byNameã€byTypeï¼‰</li>
<li>æ–¹æ³•æ³¨å…¥(lookup-method)</li>
</ol>
<p>2ã€setæ–¹æ³•æ³¨å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;fine&quot; ref=&quot;fineSpring&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>3ã€æ„é€ æ–¹æ³•æ³¨å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;com.tuling.spring.HelloSpring&quot;&gt;</span><br><span class="line">    &lt;constructor-arg name=&quot;fine&quot;&gt;</span><br><span class="line">        &lt;bean class=&quot;com.tuling.spring.FineSpring&quot;/&gt;</span><br><span class="line">    &lt;/constructor-arg&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>4ã€è‡ªåŠ¨æ³¨å…¥ï¼ˆbyName\byType\constructor)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;helloSpringAutowireConstructor&quot; class=&quot;com.tuling.spring.HelloSpring&quot; autowire=&quot;byName&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>byNameï¼šåŸºäºå˜é‡åä¸bean åç§°ç›¸åŒä½œä¸ºä¾æ®æ’å…¥<br>byTypeï¼šåŸºäºå˜é‡ç±»åˆ«ä¸bean åç§°ä½œ<br>constructorï¼šåŸºäºIOCä¸­bean ä¸æ„é€ æ–¹æ³•è¿›è¡ŒåŒ¹é…ï¼ˆè¯­ä¹‰æ¨¡ç³Šï¼Œä¸æ¨èï¼‰</p>
<p>5ã€ä¾èµ–æ–¹æ³•æ³¨å…¥(lookup-method)<br>å½“ä¸€ä¸ªå•ä¾‹çš„Beanï¼Œä¾èµ–äºä¸€ä¸ªå¤šä¾‹çš„Beanï¼Œç”¨å¸¸è§„æ–¹æ³•åªä¼šè¢«æ³¨å…¥ä¸€æ¬¡ï¼Œå¦‚æœæ¯æ¬¡éƒ½æƒ³è¦è·å–ä¸€ä¸ªå…¨æ–°å®ä¾‹å°±å¯ä»¥é‡‡ç”¨lookup-method æ–¹æ³•æ¥å®ç°ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#ç¼–å†™ä¸€ä¸ªæŠ½åƒç±»</span><br><span class="line">public abstract class MethodInject &#123;</span><br><span class="line">    public void handlerRequest() &#123;</span><br><span class="line">      // é€šè¿‡å¯¹è¯¥æŠ½åƒæ–¹æ³•çš„è°ƒç”¨è·å–æœ€æ–°å®ä¾‹</span><br><span class="line">        getFine();</span><br><span class="line">    &#125;</span><br><span class="line">    # ç¼–å†™ä¸€ä¸ªæŠ½åƒæ–¹æ³•</span><br><span class="line">    public abstract FineSpring getFine();</span><br><span class="line">&#125;</span><br><span class="line">// è®¾å®šæŠ½åƒæ–¹æ³•å®ç°</span><br><span class="line">&lt;bean id=&quot;MethodInject&quot; class=&quot;com.tuling.spring.MethodInject&quot;&gt;</span><br><span class="line">    &lt;lookup-method name=&quot;getFine&quot; bean=&quot;fine&quot;&gt;&lt;/lookup-method&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>è¯¥æ“ä½œçš„åŸç†æ˜¯åŸºäºåŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªç»§æ‰¿è‡³ç›®æ ‡ç±»ï¼Œç„¶åé‡å†™æŠ½åƒæ–¹æ³•åˆ°è¾¾æ³¨å…¥ç›®çš„ã€‚<br>å‰é¢è¯´æ‰€å•ä¾‹Beanä¾èµ–å¤šä¾‹Beanè¿™ç§æƒ…å†µä¹Ÿå¯ä»¥é€šè¿‡å®ç° ApplicationContextAware ã€BeanFactoryAware æ¥å£æ¥è·å–BeanFactory å®ä¾‹ï¼Œä»è€Œå¯ä»¥ç›´æ¥è°ƒç”¨getBeanæ–¹æ³•è·å–æ–°å®ä¾‹ï¼Œæ¨èä½¿ç”¨è¯¥æ–¹æ³•ï¼Œç›¸æ¯”lookup-methodè¯­ä¹‰é€»è¾‘æ›´æ¸…æ¥šä¸€äº›ã€‚</p>
<h2 id="äºŒã€IOC-è®¾è®¡åŸç†ä¸å®ç°"><a href="#äºŒã€IOC-è®¾è®¡åŸç†ä¸å®ç°" class="headerlink" title="äºŒã€IOC è®¾è®¡åŸç†ä¸å®ç°"></a>äºŒã€IOC è®¾è®¡åŸç†ä¸å®ç°</h2><hr>
<h3 id="çŸ¥è¯†ç‚¹ï¼š-1"><a href="#çŸ¥è¯†ç‚¹ï¼š-1" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h3><p>1ã€æºç å­¦ä¹ çš„ç›®æ ‡<br>2ã€Beançš„æ„å»ºè¿‡ç¨‹<br>3ã€BeanFactoryä¸ApplicationContextåŒºåˆ«</p>
<h3 id="1ã€æºç å­¦ä¹ ç›®æ ‡ï¼š"><a href="#1ã€æºç å­¦ä¹ ç›®æ ‡ï¼š" class="headerlink" title="1ã€æºç å­¦ä¹ ç›®æ ‡ï¼š"></a>1ã€æºç å­¦ä¹ ç›®æ ‡ï¼š</h3><p>ä¸è¦ä¸ºäº†è¯»ä¹¦è€Œè¯»ä¹¦ï¼ŒåŒæ ·ä¸è¦ä¸ºäº†é˜…è¯»æºç è€Œè¯»æºç ã€‚æ²¡æœ‰ç›®çš„ä¸€å¤´æ‰è¿›æºç çš„é»‘æ£®æ—å½“ä¸­å¾ˆå¿«å°±è¿·è·¯äº†ã€‚åˆ°æ—¶å°±ä¸æ˜¯æˆ‘ä»¬è¯»æºç äº†ï¼Œè€Œæ˜¯æºç â€˜æ¯’â€™æˆ‘ä»¬ã€‚æ¯•ç«Ÿä¸€ä¸ªæ¡†æ¶æ˜¯ç”±ä¸“ä¸šå›¢é˜Ÿï¼Œå†ç»Næ¬¡ç‰ˆæœ¬è¿­ä»£çš„äº§ç‰©ï¼Œæˆ‘ä»¬ä¸èƒ½æŒ‡æœ›åƒè¯»ä¸€æœ¬ä¹¦çš„æ–¹å¼å»é˜…è¯»å®ƒã€‚ æ‰€ä»¥å¿…é¡»åœ¨è¯»æºç ä¹‹å‰æ‰¾åˆ°ç›®æ ‡ã€‚æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br>å¤§å®¶ä¼šæƒ³ï¼Œè¯»æºç çš„ç›®æ ‡ä¸å°±æ˜¯ä¸ºäº†å­¦ä¹ å—ï¼Ÿè¿™ç§ç›®æ ‡å¤ªè¿‡æŠ½åƒï¼Œç›®æ ‡æ— æ³•éªŒè¯ã€‚é€šå¸¸æˆ‘ä»¬ä¼šè®¾å®šä¸¤ç±»å‹ç›®æ ‡ï¼šä¸€ç§æ˜¯å¯¹æºç è¿›è¡Œæ”¹é€ ï¼Œæ¯”å¦‚æ·»åŠ ä¿®æ”¹æŸäº›åŠŸèƒ½ï¼Œåœ¨å®ç°è¿™ç§ç›®æ ‡çš„è¿‡ç¨‹å½“ä¸­è‡ªç„¶å°±ä¼šæ…¢æ…¢ç†Ÿæ‚‰äº†è§£è¯¥é¡¹ç›®ã€‚ä½†ç„¶è¿™ä¸ªéš¾åº¦è¾ƒå¤§ï¼Œè€—è´¹çš„æˆæœ¬ä¹Ÿå¤§ã€‚å¦ä¸€ä¸ªåšæ³•æ˜¯ è‡ªå·±æå‡ºä¸€äº›é—®é¢˜ï¼Œé˜…è¯»æºç å°±æ˜¯ä¸ºè¿™äº›é—®é¢˜å¯»æ‰¾ç­”æ¡ˆã€‚ä»¥ä¸‹å°±æ˜¯æˆ‘ä»¬è¦ä¸€èµ·åœ¨æºç ä¸­å¯»æ‰¾ç­”æ¡ˆçš„é—®é¢˜ï¼š</p>
<ol>
<li>Beanå·¥å‚æ˜¯å¦‚ä½•ç”Ÿäº§Beançš„ï¼Ÿ</li>
<li>Beançš„ä¾èµ–å…³ç³»æ˜¯ç”±è°è§£æ¥å†³çš„ï¼Ÿ</li>
<li>Beanå·¥å‚å’Œåº”ç”¨ä¸Šæ–‡çš„åŒºåˆ«ï¼Ÿ<h3 id="2ã€Beançš„æ„å»ºè¿‡ç¨‹"><a href="#2ã€Beançš„æ„å»ºè¿‡ç¨‹" class="headerlink" title="2ã€Beançš„æ„å»ºè¿‡ç¨‹"></a>2ã€Beançš„æ„å»ºè¿‡ç¨‹</h3>spring.xml  æ–‡ä»¶ä¸­ä¿å­˜äº†æˆ‘ä»¬å¯¹Beançš„æè¿°é…ç½®ï¼ŒBeanFactory ä¼šè¯»å–è¿™äº›é…ç½®ç„¶åç”Ÿæˆå¯¹åº”çš„Beanã€‚è¿™æ˜¯æˆ‘ä»¬å¯¹ioc åŸç†çš„ä¸€èˆ¬ç†è§£ã€‚ä½†åœ¨æ·±å…¥ä¸€äº›æˆ‘ä»¬ä¼šæœ‰æ›´å¤šçš„é—®é¢˜ï¼Ÿ</li>
<li>é…ç½®ä¿¡æ¯æœ€åæ˜¯è°JAVAä¸­å“ªä¸ªå¯¹è±¡æ‰¿è½½çš„ï¼Ÿ</li>
<li>è¿™äº›æ‰¿è½½å¯¹è±¡æ˜¯è°ä¸šè¯»å–XMLæ–‡ä»¶å¹¶è£…è½½çš„ï¼Ÿ</li>
<li>è¿™äº›æ‰¿è½½å¯¹è±¡åˆæ˜¯ä¿å­˜åœ¨å“ªé‡Œï¼Ÿ</li>
</ol>
<p><strong>BeanDefinition ï¼ˆBeanå®šä¹‰ï¼‰</strong><br>ioc å®ç°ä¸­ æˆ‘ä»¬åœ¨xml ä¸­æè¿°çš„Beanä¿¡æ¯æœ€å éƒ½å°†ä¿å­˜è‡³BeanDefinition ï¼ˆå®šä¹‰ï¼‰å¯¹è±¡ä¸­ï¼Œå…¶ä¸­xml bean ä¸BeanDefinition ç¨‹ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚<br><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fuo8w0fohnj30ex08h74q.jpg" alt=""></p>
<p>ç”±æ­¤å¯è§ï¼Œxml  beanä¸­è®¾ç½®çš„å±æ€§æœ€åéƒ½ä¼šä½“ç°åœ¨BeanDefinitionä¸­ã€‚å¦‚:<br>| <strong>XML-bean </strong>   | <strong>BeanDefinition</strong>   |<br>|:â€”-|:â€”-|<br>|  class   | beanClassName   |<br>| scope   | scope   |<br>| lazy-init | lazyInit   |<br>| constructor-arg   | ConstructorArgument   |<br>| property   | MutablePropertyValues   |<br>| factory-method   | factoryMethodName   |<br>| destroy-method   | AbstractBeanDefinition.destroyMethodName   |<br>| init-method   | AbstractBeanDefinition.initMethodName   |<br>| autowire   | AbstractBeanDefinition.autowireMode   |<br>| id   |    |<br>| name   |    | </p>
<ul>
<li style="list-style: none"><input type="checkbox"> æ¼”ç¤ºæŸ¥çœ‹ BeanDefinition å±æ€§ç»“æ„</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwly1fuo90i9jbpj30dd054jra.jpg" alt=""></p>
<p><strong>BeanDefinitionRegistryï¼ˆBeanæ³¨å†Œå™¨ï¼‰</strong><br>åœ¨ä¸Šè¡¨ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰çœ‹åˆ° xml bean ä¸­çš„ id  å’Œnameå±æ€§æ²¡æœ‰ä½“ç°åœ¨å®šä¹‰ä¸­ï¼ŒåŸå› æ˜¯ID å…¶ä½œä¸ºå½“å‰Beançš„å­˜å‚¨keyæ³¨å†Œåˆ°äº†BeanDefinitionRegistry æ³¨å†Œå™¨ä¸­ã€‚name ä½œä¸ºåˆ«åkey æ³¨å†Œåˆ°äº† AliasRegistry æ³¨å†Œä¸­å¿ƒã€‚å…¶æœ€åéƒ½æ˜¯æŒ‡å‘å…¶å¯¹åº”çš„BeanDefinitionã€‚</p>
<ul>
<li style="list-style: none"><input type="checkbox"> æ¼”ç¤ºæŸ¥çœ‹ BeanDefinitionRegistryå±æ€§ç»“æ„</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fuo91jbelmj30ej0clglv.jpg" alt=""></p>
<p><strong>BeanDefinitionReaderï¼ˆBeanå®šä¹‰è¯»å–ï¼‰</strong><br>è‡³æ­¤æˆ‘ä»¬å­¦ä¹ äº† BeanDefinition ä¸­å­˜å‚¨äº†Xml Beanä¿¡æ¯ï¼Œè€ŒBeanDefinitionRegister åŸºäºIDå’Œname ä¿å­˜äº†Beançš„å®šä¹‰ã€‚æ¥ä¸‹è¦å­¦ä¹ çš„æ˜¯ä»xml Beanåˆ°BeanDefinition ç„¶ååœ¨æ³¨å†Œè‡³BeanDefinitionRegister æ•´ä¸ªè¿‡ç¨‹ã€‚<br><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fuo92y28t9j30k109zt9b.jpg" alt=""></p>
<p>ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºBeançš„å®šä¹‰æ˜¯ç”±BeanDefinitionReader ä»xml ä¸­è¯»å–é…ç½®å¹¶æ„å»ºå‡º BeanDefinitionReader,ç„¶ååœ¨åŸºäºåˆ«åæ³¨å†Œåˆ°BeanDefinitionRegisterä¸­ã€‚</p>
<ul>
<li style="list-style: none"><input type="checkbox"> æŸ¥çœ‹BeanDefinitionReaderç»“æ„</li>
</ul>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fuo94l1j2pj30da079q30.jpg" alt=""><br>æ–¹æ³•è¯´æ˜ï¼š</p>
<ul>
<li><strong>loadBeanDefinitions(Resource resource) </strong><ul>
<li>åŸºäºèµ„æºè£…è½½Beanå®šä¹‰å¹¶æ³¨å†Œè‡³æ³¨å†Œå™¨</li>
</ul>
</li>
<li><strong>int loadBeanDefinitions(String location)</strong><ul>
<li>åŸºäºèµ„æºè·¯å¾„è£…è½½Beanå®šä¹‰å¹¶æ³¨å†Œè‡³æ³¨å†Œå™¨</li>
</ul>
</li>
<li><strong>BeanDefinitionRegistry getRegistry()</strong><ul>
<li>è·å–æ³¨å†Œå™¨</li>
</ul>
</li>
<li><strong>ResourceLoader getResourceLoader()</strong><ul>
<li>è·å–èµ„æºè£…è½½å™¨</li>
</ul>
</li>
</ul>
<ul>
<li style="list-style: none"><input type="checkbox"> åŸºäºç¤ºä¾‹æ¼”ç¤ºBeanDefinitionReaderè£…è½½è¿‡ç¨‹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//åˆ›å»ºä¸€ä¸ªç®€å•æ³¨å†Œå™¨</span><br><span class="line">BeanDefinitionRegistry register = new SimpleBeanDefinitionRegistry();</span><br><span class="line">//åˆ›å»ºbeanå®šä¹‰è¯»å–å™¨</span><br><span class="line">BeanDefinitionReader reader = new XmlBeanDefinitionReader(register);</span><br><span class="line">// åˆ›å»ºèµ„æºè¯»å–å™¨</span><br><span class="line">DefaultResourceLoader resourceLoader = new DefaultResourceLoader();</span><br><span class="line">// è·å–èµ„æº</span><br><span class="line">Resource xmlResource = resourceLoader.getResource(&quot;spring.xml&quot;);</span><br><span class="line">// è£…è½½Beançš„å®šä¹‰</span><br><span class="line">reader.loadBeanDefinitions(xmlResource);</span><br><span class="line">// æ‰“å°æ„å»ºçš„Bean åç§°</span><br><span class="line">System.out.println(Arrays.toString(register.getBeanDefinitionNames());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>Beanfactory(bean å·¥å‚)</strong><br> æœ‰äº†Beançš„å®šä¹‰å°±ç›¸å½“äºæœ‰äº†äº§å“çš„é…æ–¹ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦æŠŠè¿™ä¸ªé…æ–¹é€åˆ°å·¥å‚è¿›è¡Œç”Ÿäº§äº†ã€‚åœ¨iocå½“ä¸­Beançš„æ„å»ºæ˜¯ç”±BeanFactory è´Ÿè´£çš„ã€‚å…¶ç»“æ„å¦‚ä¸‹ï¼š<br><img src="https://ws1.sinaimg.cn/large/006tNbRwly1fuo95fjpbdj30d60al0sy.jpg" alt=""><br>æ–¹æ³•è¯´æ˜ï¼š</p>
<ul>
<li><strong>getBean(String) </strong><ul>
<li>åŸºäºIDæˆ–name è·å–ä¸€ä¸ªBean</li>
</ul>
</li>
<li><strong><t> T getBean(Class<t> requiredType) </t></t></strong><ul>
<li>åŸºäºBeançš„ç±»åˆ«è·å–ä¸€ä¸ªBeanï¼ˆå¦‚æœå‡ºç°å¤šä¸ªè¯¥ç±»çš„å®ä¾‹ï¼Œå°†ä¼šæŠ¥é”™ã€‚ä½†å¯ä»¥æŒ‡å®š primary=â€œtrueâ€ è°ƒæ•´ä¼˜å…ˆçº§æ¥è§£å†³è¯¥é”™è¯¯ ï¼‰</li>
</ul>
</li>
<li><strong>Object getBean(String name, Objectâ€¦ args)</strong><ul>
<li>åŸºäºåç§°è·å–ä¸€ä¸ªBeanï¼Œå¹¶è¦†ç›–é»˜è®¤çš„æ„é€ å‚æ•°</li>
</ul>
</li>
<li><strong>boolean isTypeMatch(String name, Class&lt;?&gt; typeToMatch)</strong><ul>
<li>æŒ‡å®šBeanä¸æŒ‡å®šClass æ˜¯å¦åŒ¹é…</li>
</ul>
</li>
</ul>
<p>ä»¥ä¸Šæ–¹æ³•ä¸­é‡ç‚¹è¦å…³æ³¨getBeanï¼Œå½“ç”¨æˆ·è°ƒç”¨getBeançš„æ—¶å€™å°±ä¼šè§¦å‘ Beançš„åˆ›å»ºåŠ¨ä½œï¼Œå…¶æ˜¯å¦‚ä½•åˆ›å»ºçš„å‘¢ï¼Ÿ</p>
<ul>
<li style="list-style: none"><input type="checkbox"> æ¼”ç¤ºåŸºæœ¬BeanFactoryè·å–ä¸€ä¸ªBean<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#åˆ›å»ºBeanå †æ ˆ</span><br><span class="line">// å…¶åå°„å®ä¾‹åŒ–Bean</span><br><span class="line">java.lang.reflect.Constructor.newInstance(Unknown Source:-1)</span><br><span class="line">BeanUtils.instantiateClass()</span><br><span class="line">//åŸºäºå®ä¾‹åŒ–ç­–ç•¥ å®ä¾‹åŒ–Bean</span><br><span class="line">SimpleInstantiationStrategy.instantiate()</span><br><span class="line">AbstractAutowireCapableBeanFactory.instantiateBean()</span><br><span class="line">// æ‰§è¡ŒBeançš„å®ä¾‹åŒ–æ–¹æ³•</span><br><span class="line">AbstractAutowireCapableBeanFactory.createBeanInstance()</span><br><span class="line">AbstractAutowireCapableBeanFactory.doCreateBean()</span><br><span class="line">// æ‰§è¡ŒBeançš„åˆ›å»º</span><br><span class="line">AbstractAutowireCapableBeanFactory.createBean()</span><br><span class="line">// ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œè°ƒç”¨æŒ‡å®šBeanå·¥å‚åˆ›å»ºBean</span><br><span class="line">AbstractBeanFactory$1.getObject()</span><br><span class="line">// ä»å•ä¾‹æ³¨å†Œä¸­å¿ƒè·å–Beanç¼“å­˜</span><br><span class="line">DefaultSingletonBeanRegistry.getSingleton()</span><br><span class="line">AbstractBeanFactory.doGetBean()</span><br><span class="line">// è·å–Bean</span><br><span class="line">AbstractBeanFactory.getBean()</span><br><span class="line">// è°ƒç”¨çš„å®¢æˆ·ç±»</span><br><span class="line">com.tuling.spring.BeanFactoryExample.main()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>Beanåˆ›å»ºæ—¶åºå›¾ï¼š</strong><br><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fuo96eb3k4j30z90foq3x.jpg" alt=""></p>
<p>ä»è°ƒç”¨è¿‡ç¨‹å¯ä»¥æ€»ç»“å‡ºä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>è°ƒç”¨BeanFactory.getBean() ä¼šè§¦å‘Beançš„å®ä¾‹åŒ–ã€‚</li>
<li>DefaultSingletonBeanRegistry ä¸­ç¼“å­˜äº†å•ä¾‹Bean</li>
<li>Beançš„åˆ›å»ºä¸åˆå§‹åŒ–æ˜¯ç”±AbstractAutowireCapableBeanFactory å®Œæˆçš„ã€‚<h3 id="3ã€BeanFactory-ä¸-ApplicationContextåŒºåˆ«"><a href="#3ã€BeanFactory-ä¸-ApplicationContextåŒºåˆ«" class="headerlink" title="3ã€BeanFactory ä¸ ApplicationContextåŒºåˆ«"></a>3ã€BeanFactory ä¸ ApplicationContextåŒºåˆ«</h3>BeanFactory  çœ‹ä¸‹å»å¯ä»¥å»åšIOCå½“ä¸­çš„å¤§éƒ¨åˆ†äº‹æƒ…ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å»å®šä¹‰ä¸€ä¸ªApplicationContext å‘¢ï¼Ÿ<br>ApplicationContext ç»“æ„å›¾<br><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fuo9701kg8j315407qwem.jpg" alt=""></li>
</ol>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ° ApplicationContext å®ƒç”±BeanFactoryæ¥å£æ´¾ç”Ÿè€Œæ¥ï¼Œå› è€Œæä¾›äº†BeanFactoryæ‰€æœ‰çš„åŠŸèƒ½ã€‚é™¤æ­¤ä¹‹å¤–contextåŒ…è¿˜æä¾›äº†ä»¥ä¸‹çš„åŠŸèƒ½ï¼š</p>
<ol>
<li>MessageSource, æä¾›å›½é™…åŒ–çš„æ¶ˆæ¯è®¿é—®</li>
<li>èµ„æºè®¿é—®ï¼Œå¦‚URLå’Œæ–‡ä»¶</li>
<li>äº‹ä»¶ä¼ æ’­ï¼Œå®ç°äº†ApplicationListeneræ¥å£çš„bean</li>
<li>è½½å…¥å¤šä¸ªï¼ˆæœ‰ç»§æ‰¿å…³ç³»ï¼‰ä¸Šä¸‹æ–‡ ï¼Œä½¿å¾—æ¯ä¸€ä¸ªä¸Šä¸‹æ–‡éƒ½ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šçš„å±‚æ¬¡ï¼Œæ¯”å¦‚åº”ç”¨çš„webå±‚</li>
</ol>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">æ”¯æŒä¸€ä¸‹</span>
      <div class="donation-body">
        <div class="tip text-center">æ‰«ä¸€æ‰«ï¼Œæ”¯æŒforsigner</div>
        <ul>
        
          <li class="item">
            
              <span>å¾®ä¿¡æ‰«ä¸€æ‰«</span>
            
            <img src="/images/qr-wechat.png" alt="">
          </li>
        
          <li class="item">
            
              <span>æ”¯ä»˜å®æ‰«ä¸€æ‰«</span>
            
            <img src="/images/qr-alipay.png" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2018/08/08/æ³›å‹ç¨‹åºè®¾è®¡/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2018/09/19/Mybatis-è‡ªå®šä¹‰æ‹¦æˆªå™¨/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">å…³é—­</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              åšå®¢
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/categories/"
              rel="noopener noreferrer"
              target="_self"
              >
              åˆ†ç±»
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              æ ‡ç­¾
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              å‹é“¾
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              å…³äº
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              æœç´¢
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
    <div id="comment" class="vcomment" ></div>
    <script>
        var notify = 'false' == true ? true : false;
        var verify = 'false' == true ? true : false;
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
            return GUEST_INFO.indexOf(item) > -1
        });
        guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
        window.valine = new Valine({
            el: '.vcomment',
            notify: notify,
            verify: verify,
            appId: "9cprXYUH7H1YKlRERiGS8bxV-gzGzoHsz",
            appKey: "et0Drv2jnj4ILMBUSaNM2M2R",
            avatar:'mm',
            placeholder: "Talk to me ^_^",
            guest_info:guest_info,
            pageSize:'10'
        });
    </script>
  
    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
